---
description: ä½œä¸ºä¸€åå‰ç«¯å¼€å‘ï¼Œjsæ˜¯å‰ç«¯çš„ä¸­åšåŠ›é‡ã€‚é‚£ä¹ˆ javascript ä¸‰åº§å¤§å±±ï¼Œä½ çŸ¥é“æ˜¯å“ªäº›å‘¢ï¼Ÿ
---

# ğŸŒ„ ä¸‰åº§å¤§å±±

## 1ï¸âƒ£ ä½œç”¨åŸŸå’Œé—­åŒ…

**`ä½œç”¨åŸŸ`**æŒ‡ä»£ç å½“å‰ä¸Šä¸‹æ–‡ï¼Œæ§åˆ¶ç€å˜é‡å’Œå‡½æ•°çš„å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸã€‚æœ€å¤§çš„ä½œç”¨æ˜¯éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šå†²çªã€‚

**`ä½œç”¨åŸŸé“¾`**æŒ‡å¦‚æœåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ²¡æœ‰æŸ¥åˆ°å€¼ï¼Œå°±ä¼šå‘ä¸Šçº§ä½œç”¨åŸŸå»æŸ¥ï¼Œç›´åˆ°æŸ¥åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œè¿™æ ·ä¸€ä¸ªæŸ¥æ‰¾è¿‡ç¨‹å½¢æˆçš„é“¾æ¡å°±è¢«ç§°ä¹‹ä¸ºä½œç”¨åŸŸé“¾ã€‚

ä½œç”¨åŸŸå¯ä»¥å †å æˆå±‚æ¬¡ç»“æ„ï¼Œå­ä½œç”¨åŸŸå¯ä»¥è®¿é—®çˆ¶ä½œç”¨åŸŸï¼Œåè¿‡æ¥åˆ™ä¸è¡Œã€‚

ä½œç”¨åŸŸå¯ä»¥ç»†åˆ†ä¸ºå››ç§ï¼š**`å…¨å±€ä½œç”¨åŸŸ`**ã€**`æ¨¡å—ä½œç”¨åŸŸ`**ã€**`å‡½æ•°ä½œç”¨åŸŸ`**ã€**`å—çº§ä½œç”¨åŸŸ`**

**å…¨å±€ä½œç”¨åŸŸï¼š** ä»£ç åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½èƒ½è¢«è®¿é—®ï¼Œä¾‹å¦‚ window å¯¹è±¡ã€‚ä½†å…¨å±€å˜é‡ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çªã€‚

**æ¨¡å—ä½œç”¨åŸŸï¼š**æ—©æœŸ js è¯­æ³•ä¸­æ²¡æœ‰æ¨¡å—çš„å®šä¹‰ï¼Œå› ä¸ºæœ€åˆçš„è„šæœ¬å°è€Œç®€å•ã€‚åæ¥éšç€è„šæœ¬è¶Šæ¥è¶Šå¤æ‚ï¼Œå°±å‡ºç°äº†æ¨¡å—åŒ–æ–¹æ¡ˆï¼ˆAMDã€CommonJSã€UMDã€ES6æ¨¡å—ç­‰ï¼‰ã€‚é€šå¸¸ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ä¸€æ®µè„šæœ¬ï¼Œè€Œè¿™ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚

**å‡½æ•°ä½œç”¨åŸŸï¼š**é¡¾åæ€ä¹‰ç”±å‡½æ•°åˆ›å»ºçš„ä½œç”¨åŸŸã€‚é—­åŒ…å°±æ˜¯åœ¨è¯¥ä½œç”¨åŸŸä¸‹äº§ç”Ÿã€‚

**å—çº§ä½œç”¨åŸŸï¼š**ç”±äº js å˜é‡æå‡å­˜åœ¨å˜é‡è¦†ç›–ã€å˜é‡æ±¡æŸ“ç­‰è®¾è®¡ç¼ºé™·ï¼Œæ‰€ä»¥ ES6 å¼•å…¥äº†å—çº§ä½œç”¨åŸŸå…³é”®å­—æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚å…¸å‹çš„æ¡ˆä¾‹å°±æ˜¯ let çš„ for å¾ªç¯å’Œ var çš„ for å¾ªç¯ã€‚

```javascript
// var demo
for(var i=0; i<10; i++) {
    console.log(i);
}
console.log(i); // 10

// let demo
for(let i=0; i<10; i++) {
    console.log(i);
}
console.log(i); //ReferenceErrorï¼ši is not defined
```

äº†è§£å®Œä½œç”¨åŸŸæ¥ä¸‹æ¥è¯´è¯´**`é—­åŒ…`ï¼š**å‡½æ•°Aé‡ŒåŒ…å«äº†å‡½æ•°Bï¼Œè€Œå‡½æ•°Bä½¿ç”¨äº†å‡½æ•°Açš„å˜é‡ï¼Œé‚£ä¹ˆå‡½æ•°Bè¢«ç§°ä¸ºé—­åŒ…æˆ–è€…é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å‡½æ•°Aå†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚

å¯ä»¥çœ‹å‡ºé—­åŒ…æ˜¯å‡½æ•°ä½œç”¨åŸŸä¸‹çš„äº§ç‰©ï¼Œé—­åŒ…ä¼šéšç€å¤–å±‚å‡½æ•°çš„æ‰§è¡Œè€Œè¢«åŒæ—¶åˆ›å»ºï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ä»¥åŠå…¶æ†ç»‘çš„å‘¨è¾¹ç¯å¢ƒçŠ¶æ€çš„å¼•ç”¨çš„ç»„åˆã€‚æ¢è€Œè¨€ä¹‹ï¼Œ**é—­åŒ…æ˜¯å†…å±‚å‡½æ•°å¯¹å¤–å±‚å‡½æ•°å˜é‡çš„ä¸é‡Šæ”¾**ã€‚

é—­åŒ…çš„ç‰¹å¾ï¼š1. å‡½æ•°å†…è¿”å›å‡½æ•°ï¼›2. å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸï¼›3. å‚æ•°å’Œå˜é‡ä¸ä¼šè¢« GCï¼Œå§‹ç»ˆé©»ç•™åœ¨å†…å­˜ä¸­ï¼›4.æ²¡æœ‰å†…å­˜ï¼Œå°±æ²¡æœ‰é—­åŒ…ã€‚

æ‰€ä»¥ä½¿ç”¨é—­åŒ…ä¼šæ¶ˆè€—å†…å­˜ã€ä¸æ­£å½“ä½¿ç”¨ä¼šé€ æˆå†…å­˜æº¢å‡ºçš„é—®é¢˜ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œéœ€è¦å°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚å¦‚æœä¸æ˜¯æŸäº›ç‰¹å®šéœ€æ±‚ï¼Œåœ¨å‡½æ•°ä¸­åˆ›å»ºå‡½æ•°æ˜¯ä¸æ˜æ™ºçš„ï¼Œé—­åŒ…åœ¨å¤„ç†é€Ÿåº¦å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¯¹è„šæœ¬æ€§èƒ½å…·æœ‰è´Ÿé¢å½±å“ã€‚

**`é—­åŒ…çš„åº”ç”¨åœºæ™¯ï¼š`**

<pre class="language-typescript" data-title="å¾ªç¯ä¸­ä½¿ç”¨"><code class="lang-typescript"><strong>// demo1 è¾“å‡º 3 3 3
</strong>for(var i = 0; i &#x3C; 3; i++) {
    setTimeout(function()ty
        console.log(i);
    }, 1000);
} 
// demo2 è¾“å‡º 0 1 2
for(let i = 0; i &#x3C; 3; i++) {
    setTimeout(function() {
        console.log(i);
    }, 1000);
}
// demo3 è¾“å‡º 0 1 2
for(let i = 0; i &#x3C; 3; i++) {
    (function(i){
        setTimeout(function() {
        console.log(i);
        }, 1000);
    })(i)
}
</code></pre>

{% code title="æ¨¡æ‹Ÿç§æœ‰æ–¹æ³•" %}
```typescript
// æ¨¡æ‹Ÿå¯¹è±¡çš„getä¸setæ–¹æ³•
var Counter = (function() {
var privateCounter = 0;
function changeBy(val) {
    privateCounter += val;
}
return {
    increment: function() {
    changeBy(1);
    },
    decrement: function() {
    changeBy(-1);
    },
    value: function() {
    return privateCounter;
    }
}
})();
console.log(Counter.value()); /* logs 0 */
Counter.increment();
Counter.increment();
console.log(Counter.value()); /* logs 2 */
Counter.decrement();
console.log(Counter.value()); /* logs 1 */
```
{% endcode %}

{% code title="setTimeoutä¸­ä½¿ç”¨" %}
```typescript
// setTimeoutä¸­ä½¿ç”¨ï¼ŒsetTimeout(fn, number): fn æ˜¯ä¸èƒ½å¸¦å‚æ•°çš„ã€‚ä½¿ç”¨é—­åŒ…ç»‘å®šä¸€ä¸ªä¸Šä¸‹æ–‡å¯ä»¥åœ¨é—­åŒ…ä¸­è·å–è¿™ä¸ªä¸Šä¸‹æ–‡çš„æ•°æ®ã€‚
function func(param){ return function(){ alert(param) }}
const f1 = func(1);setTimeout(f1,1000);
```
{% endcode %}

{% code title="ç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å‹" %}
```typescript
/*ä¸ä½¿ç”¨é—­åŒ…*/
//ç”Ÿäº§è€…
function producer(){
    const data = newï¼ˆ...ï¼‰
    return data
}
//æ¶ˆè´¹è€…
function consumer(data){
    // do consume...
}
const data = producer()

/*ä½¿ç”¨é—­åŒ…*/
function process(){
    var data = new (...)
    return function consumer(){
        // do consume data ...
    }
}
const processer = process()
processer()
```
{% endcode %}

{% code title="å®ç°ç»§æ‰¿" %}
```typescript
// ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ç»§æ‰¿ï¼Œä½†æ˜¯é—­åŒ…æ–¹å¼æ¯æ¬¡æ„é€ å™¨éƒ½ä¼šè¢«è°ƒç”¨ä¸”é‡æ–°èµ‹å€¼ä¸€æ¬¡æ‰€ä»¥ï¼Œæ‰€ä»¥å®ç°ç»§æ‰¿åŸå‹ä¼˜äºé—­åŒ…
// é—­åŒ…
function MyObject(name, message) {
  this.name = name.toString();
  this.message = message.toString();
  this.getName = function() {
    return this.name;
  };

  this.getMessage = function() {
    return this.message;
  };
}
// åŸå‹
function MyObject(name, message) {
  this.name = name.toString();
  this.message = message.toString();
}
MyObject.prototype.getName = function() {
  return this.name;
};
MyObject.prototype.getMessage = function() {
  return this.message;
};
```
{% endcode %}

<figure><img src="../.gitbook/assets/closure.png" alt=""><figcaption><p>ä¸€å¼ å›¾çœ‹æ‡‚é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸ</p></figcaption></figure>

## 2ï¸âƒ£ åŸå‹å’ŒåŸå‹é“¾

## 3ï¸âƒ£ å¼‚æ­¥å’Œå•çº¿ç¨‹
